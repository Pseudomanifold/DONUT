{% extends "base.html" %}

{% block content %}
  <div class="search">
    {% if query is none %}
      {% set query = "" %}
    {% endif %}
    <form method="post">
      <input autofocus
        type="text"
        placeholder="Search terms"
        name="query"
        value="{{ query }}"
      />
      <button type="submit">
        Search
      </button>
      <button type="submit" formaction="/random">
        I'm Feeling Lucky
      </button>
    </form>
  </div>

  {% if data is not none %}
    <div>
      <ul>
        {% for d in data %}
        <li>
          {{ d["document"].title }}
          <a href="{{ url_for('view', identifier=d['id']) }}">(View)</a>
        </li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

{% endblock %}
